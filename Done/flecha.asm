;PROGRAMA QUE MUESTRA DIFERENTES MODOS DE VIDEO

; Definicion de stack
.MODEL small
.STACK  100

;DEFINICION DE AREAS DE TRABAJO
.DATA
;VAriable
y DW 320
X DW 240
COLOR DB 0
Modog db "Modo GRAFICO 80x30 8x16 640x480 16/256k A000 VGA, ATI, VIP $", 0

.CODE
PRINCI PROC FAR
;PROTOCOLO
push ds
sub ax,ax
push ax
MOV AX,@DATA
MOV DS,AX

;INICIA PROGRAMA
CALL GRAPH
mov dx,offset Modog
mov ah,9
int 21h
CALL limpiar_pantalla

OTRO:
MOV COLOR,15
CALL PUNTO
CALL READKEY
CMP AL,56
     JE UP
CMP AL,50
     JE DOWN
CMP AL,54
     JE RIGHT
CMP AL,52
     JE LEFT 
CMP AL,27   
JE SALIR
JnE OTRO


UP:
MOV COLOR,0
CALL PUNTO

sub x,10
    JMP OTRO
DOWN:
MOV COLOR,0
CALL PUNTO
INC X
JMP OTRO

RIGHT:
MOV COLOR,0
CALL PUNTO

ADD y,10
JMP OTRO

LEFT:
MOV COLOR,0
CALL PUNTO
DEC Y
JMP OTRO

SALIR:
CALL DOS    


RET

PRINCI ENDP


READKEY PROC
MOV AH,07H
INT 21H
RET 
READKEY ENDP



GRAPH PROC
MOV AH,00H
MOV AL,12H
INT 10H
RET
GRAPH ENDP


PUNTO PROC
MOV AH,0CH
MOV AL,COLOR
MOV BH,0
MOV CX,Y
MOV DX,X
INT 10H
RET
PUNTO ENDP


DOS PROC
MOV AH,00H
MOV AL,03H
INT 10H
RET
DOS ENDP

limpiar_pantalla PROC
PUSH AX
PUSH BX
PUSH CX
PUSH DX
MOV AX,0600h
MOV BH,71h      ; FONDO BLANCO CON PRIMER PLANO AZUL
MOV CX,0000H    ;coordenada inicial
MOV DX,184FH    ;coordenada final
INT 10h
POP DX
POP CX
POP BX
POP AX
RET
limpiar_pantalla ENDP

END PRINCI
  